{% extends 'base.html' %}
{% load static %}

{% block title %}–ö–∞—Ç–∞–ª–æ–≥ - –ì–∞—Ä–∞–Ω—Ç –ì—Ä—É–ø–ø{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="hero-bg">
        <div class="floating-shape shape-1"></div>
        <div class="floating-shape shape-2"></div>
        <div class="floating-shape shape-3"></div>
    </div>
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</h1>
            <p class="hero-subtitle">–í–µ—Å—å –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –Ω–∞—à–µ–π –ø—Ä–æ–¥—É–∫—Ü–∏–∏</p>
        </div>
    </div>
</section>

<!-- Products Section -->
<section class="section">
    <div class="container">
      <h2 class="section-title" style="text-align: center; margin-bottom: 3rem;">–ù–∞—à–∏ –º–æ–¥–µ–ª–∏ –±–∞–Ω—å</h2>
      {% if products %}
        <div class="products-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 2rem;">
          {% for product in products %}
            <div class="product-item card" style="border-top: 4px solid var(--accent-terracotta); padding: 1.5rem; border-radius: 0 0 var(--radius-lg) var(--radius-lg); background: var(--white); box-shadow: var(--shadow-sm); transition: transform 0.3s ease; overflow: hidden;">
              <div class="product-image" style="position: relative; height: 250px; margin-bottom: 1rem; overflow: hidden; border-radius: var(--radius-md);">
                {% if product.images.first %}
                  <img src="{{ product.images.first.image.url }}" alt="{{ product.title }}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.4s ease;">
                {% else %}
                  <div class="placeholder" style="width: 100%; height: 100%; background: var(--gray-200); display: flex; align-items: center; justify-content: center; color: var(--gray-600);">–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>
                {% endif %}
              </div>
              <h3 style="margin: 1rem 0 0.5rem; font-size: 1.3rem; color: var(--gray-800);">{{ product.title }}</h3>
              <div class="product-price" style="font-size: 1.6rem; font-weight: 700; color: var(--accent-terracotta); margin-bottom: 0.5rem;">
                {% with prices=product.prices.all base_price=product.price %}
                  {% if prices or base_price > 0 %}
                    –æ—Ç {% if prices.first %}
                      {% with price=prices.first.price|floatformat:0 %}
                        {{ price|slice:":-3" }}{% if price|length > 3 %}{{ price|slice:"3:"|add:" " }}{% endif %} ‚ÇΩ
                      {% endwith %}
                    {% else %}
                      {{ base_price|floatformat:0|slice:":-3" }}{% if base_price|length > 3 %}{{ base_price|slice:"3:"|add:" " }}{% endif %} ‚ÇΩ
                    {% endif %}
                  {% else %}
                    –¶–µ–Ω–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É
                  {% endif %}
                {% endwith %}
              </div>
              <p style="color: var(--gray-700); margin-bottom: 1.5rem; line-height: 1.5;">{{ product.description|truncatechars:150 }}</p>
              <div class="product-actions" style="display: flex; gap: 1rem; flex-wrap: wrap;">
                <a href="{% url 'product_detail' product.id %}" class="detail-btn btn btn-terra" style="padding: 0.75rem 1.5rem; text-decoration: none; font-weight: 600;">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                <a href="{% url 'order' %}?details={{ product.title }}" class="btn btn-secondary" style="padding: 0.75rem 1.5rem; text-decoration: none;">–ó–∞–∫–∞–∑–∞—Ç—å</a>
              </div>
              <style>
                .product-item:hover {
                  transform: translateY(-8px);
                  box-shadow: var(--shadow-warm);
                }
                .product-item:hover img {
                  transform: scale(1.05);
                }
              </style>
            </div>
          {% endfor %}
        </div>
        {% if products|length > 8 %}
          <div class="load-more" style="text-align: center; margin-top: 3rem;">
            <a href="#" class="btn btn-primary btn-terra" style="padding: 1rem 2rem;" onclick="loadMoreProducts(); return false;">
              <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë</span>
            </a>
          </div>
        {% endif %}
      {% else %}
        <div class="empty-message" style="text-align: center; padding: 4rem; color: var(--gray-600);">
          <h3>–ö–∞—Ç–∞–ª–æ–≥ –ø—É—Å—Ç</h3>
          <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.</p>
        </div>
      {% endif %}
    </div>
  </section>

  <!-- –ü–û–ß–ï–ú–£ –ú–´: –¢–∞–∫–æ–π –∂–µ –∫–∞–∫ –≤ –≥–ª–∞–≤–Ω–æ–π (4 –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å –∏–∫–æ–Ω–∫–∞–º–∏) -->
  <section class="section" data-animate="fade-up">
    <div class="container">
      <h2 class="section-title" style="text-align: center; margin-bottom: 3rem;">–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –ì–∞—Ä–∞–Ω—Ç –ì—Ä—É–ø–ø</h2>
      <div class="advantages-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
        <div class="advantage-item card" style="padding: 2rem; border-radius: var(--radius-lg); background: var(--white); box-shadow: var(--shadow-sm); text-align: center; transition: transform 0.3s ease;">
          <div class="advantage-icon" style="width: 60px; height: 60px; background: var(--accent-terracotta); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; color: var(--white); font-size: 1.5rem;">‚úì</div>
          <h3 style="margin-bottom: 1rem; color: var(--gray-800);">–ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞</h3>
          <p style="color: var(--gray-700);">–†–∞–±–æ—Ç–∞–µ–º –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É –∏ –¥–∞—ë–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –≥–∞—Ä–∞–Ω—Ç–∏—é –Ω–∞ –ø–æ—Å—Ç—Ä–æ–π–∫–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã.</p>
        </div>
        <div class="advantage-item card" style="padding: 2rem; border-radius: var(--radius-lg); background: var(--white); box-shadow: var(--shadow-sm); text-align: center; transition: transform 0.3s ease;">
          <div class="advantage-icon" style="width: 60px; height: 60px; background: var(--accent-terracotta); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; color: var(--white); font-size: 1.5rem;">üè≠</div>
          <h3 style="margin-bottom: 1rem; color: var(--gray-800);">–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</h3>
          <p style="color: var(--gray-700);">–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º –≤–µ—Å—å —Ü–∏–∫–ª ‚Äî –æ—Ç –∑–∞–≥–æ—Ç–æ–≤–∫–∏ –ª–µ—Å–∞ –¥–æ —Å–±–æ—Ä–∫–∏ –Ω–∞ —É—á–∞—Å—Ç–∫–µ.</p>
        </div>
        <div class="advantage-item card" style="padding: 2rem; border-radius: var(--radius-lg); background: var(--white); box-shadow: var(--shadow-sm); text-align: center; transition: transform 0.3s ease;">
          <div class="advantage-icon" style="width: 60px; height: 60px; background: var(--accent-terracotta); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; color: var(--white); font-size: 1.5rem;">üå≤</div>
          <h3 style="margin-bottom: 1rem; color: var(--gray-800);">–≠–∫–æ–ª–æ–≥–∏—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</h3>
          <p style="color: var(--gray-700);">–ò—Å–ø–æ–ª—å–∑—É–µ–º –∑–¥–æ—Ä–æ–≤—É—é –¥—Ä–µ–≤–µ—Å–∏–Ω—É –∏–∑ —Å–µ–≤–µ—Ä–Ω—ã—Ö –ª–µ—Å–æ–≤ ‚Äî –±–∞–Ω–∏ ¬´–¥—ã—à–∞—Ç¬ª.</p>
        </div>
        <div class="advantage-item card" style="padding: 2rem; border-radius: var(--radius-lg); background: var(--white); box-shadow: var(--shadow-sm); text-align: center; transition: transform 0.3s ease;">
          <div class="advantage-icon" style="width: 60px; height: 60px; background: var(--accent-terracotta); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; color: var(--white); font-size: 1.5rem;">‚ö°</div>
          <h3 style="margin-bottom: 1rem; color: var(--gray-800);">–ú–æ–Ω—Ç–∞–∂ 1‚Äì2 –¥–Ω—è</h3>
          <p style="color: var(--gray-700);">–°–æ–±–∏—Ä–∞–µ–º –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∏ –±—ã—Å—Ç—Ä–æ, –±–µ–∑ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–≥–æ –º—É—Å–æ—Ä–∞.</p>
        </div>
      </div>
      <style>
        .advantage-item:hover {
          transform: translateY(-5px);
          box-shadow: var(--shadow-warm);
        }
      </style>
    </div>
  </section>

  <!-- –ß–ê–°–¢–û –ó–ê–î–ê–í–ê–ï–ú–´–ï –í–û–ü–†–û–°–´: –ê–∫–∫–æ—Ä–¥–µ–æ–Ω (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) -->
  <section class="section bg-wood-cream" data-animate="fade-up">
    <div class="container">
      <h2 class="section-title" style="text-align: center; margin-bottom: 3rem;">–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
      <div class="faq-grid" style="max-width: 800px; margin: 0 auto;">
        <div class="faq-item" style="margin-bottom: 1rem; background: var(--white); border: 1px solid var(--gray-200); border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-sm);">
          <button class="faq-question" style="width: 100%; padding: 1.5rem; background: var(--accent-terracotta); color: var(--white); border: none; text-align: left; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: background 0.3s ease;">
            –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –±–∞–Ω—è –ø–æ–¥ –∫–ª—é—á?
            <span class="faq-toggle" style="float: right; transition: transform 0.3s ease;">+</span>
          </button>
          <div class="faq-answer" style="max-height: 0; overflow: hidden; transition: max-height 0.3s ease, padding 0.3s ease; color: var(--gray-700);">
            <p style="margin: 0; padding: 1.5rem; line-height: 1.6;">–¶–µ–Ω—ã –æ—Ç 150 000 —Ä—É–±. –∑–∞ –±–∞–∑–æ–≤—É—é –º–æ–¥–µ–ª—å. –ü–æ–ª–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞, –æ–ø—Ü–∏–π (–ø–µ—á—å, —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç) –∏ –¥–æ—Å—Ç–∞–≤–∫–∏. –†–∞—Å—Å—á–∏—Ç–∞–µ–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –ø–æ –≤–∞—à–µ–º—É —É—á–∞—Å—Ç–∫—É.</p>
          </div>
        </div>
        <div class="faq-item" style="margin-bottom: 1rem; background: var(--white); border: 1px solid var(--gray-200); border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-sm);">
          <button class="faq-question" style="width: 100%; padding: 1.5rem; background: var(--accent-terracotta); color: var(--white); border: none; text-align: left; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: background 0.3s ease;">
            –ö–∞–∫–æ–π —Å—Ä–æ–∫ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è?
            <span class="faq-toggle" style="float: right; transition: transform 0.3s ease;">+</span>
          </button>
          <div class="faq-answer" style="max-height: 0; overflow: hidden; transition: max-height 0.3s ease, padding 0.3s ease; color: var(--gray-700);">
            <p style="margin: 0; padding: 1.5rem; line-height: 1.6;">–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ ‚Äî 3‚Äì7 –¥–Ω–µ–π. –ú–æ–Ω—Ç–∞–∂ –Ω–∞ —É—á–∞—Å—Ç–∫–µ ‚Äî 1‚Äì2 –¥–Ω—è. –û–±—â–∏–π —Å—Ä–æ–∫ –æ—Ç –∑–∞–∫–∞–∑–∞ –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ ‚Äî 1 –Ω–µ–¥–µ–ª—è.</p>
          </div>
        </div>
        <div class="faq-item" style="margin-bottom: 1rem; background: var(--white); border: 1px solid var(--gray-200); border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-sm);">
          <button class="faq-question" style="width: 100%; padding: 1.5rem; background: var(--accent-terracotta); color: var(--white); border: none; text-align: left; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: background 0.3s ease;">
            –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –ú–û?
            <span class="faq-toggle" style="float: right; transition: transform 0.3s ease;">+</span>
          </button>
          <div class="faq-answer" style="max-height: 0; overflow: hidden; transition: max-height 0.3s ease, padding 0.3s ease; color: var(--gray-700);">
            <p style="margin: 0; padding: 1.5rem; line-height: 1.6;">–î–∞, –±–µ—Å–ø–ª–∞—Ç–Ω–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 50 –∫–º –æ—Ç –í–æ–ª–æ–≥–¥—ã. –î–∞–ª–µ–µ ‚Äî –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º (–æ—Ç 5 000 —Ä—É–±.). –ü—Ä–∏–≤–æ–∑–∏–º –≤ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è.</p>
          </div>
        </div>
        <div class="faq-item" style="margin-bottom: 1rem; background: var(--white); border: 1px solid var(--gray-200); border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-sm);">
          <button class="faq-question" style="width: 100%; padding: 1.5rem; background: var(--accent-terracotta); color: var(--white); border: none; text-align: left; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: background 0.3s ease;">
            –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç?
            <span class="faq-toggle" style="float: right; transition: transform 0.3s ease;">+</span>
          </button>
          <div class="faq-answer" style="max-height: 0; overflow: hidden; transition: max-height 0.3s ease, padding 0.3s ease; color: var(--gray-700);">
            <p style="margin: 0; padding: 1.5rem; line-height: 1.6;">–ö–æ–Ω–µ—á–Ω–æ! –î–æ–±–∞–≤–∏–º –∫–æ–º–Ω–∞—Ç—É –æ—Ç–¥—ã—Ö–∞, —Ç–µ—Ä—Ä–∞—Å—É –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –æ–ø—Ü–∏–∏. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ.</p>
          </div>
        </div>
      </div>
      <style>
        .faq-question:hover {
          background: #b86340;
        }
        .faq-question.active .faq-toggle {
          transform: rotate(45deg);
        }
      </style>
    </div>
  </section>

  <!-- –ö–ê–ö –ó–ê–ö–ê–ó–ê–¢–¨: –¢–∞–∫–æ–π –∂–µ –∫–∞–∫ 4 —à–∞–≥–∞ –≤ –≥–ª–∞–≤–Ω–æ–π -->
  <section class="section" data-animate="fade-up">
    <div class="container">
      <h2 class="section-title" style="text-align: center; margin-bottom: 3rem;">–ö–∞–∫ –∑–∞–∫–∞–∑–∞—Ç—å –±–∞–Ω—é</h2>
      <div class="steps-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
        <div class="step-card card" style="padding: 2rem; border-radius: var(--radius-lg); background: var(--white); box-shadow: var(--shadow-sm); transition: transform 0.3s ease; text-align: center;">
          <div class="step-icon" style="width: 50px; height: 50px; background: var(--accent-terracotta); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--white); margin: 0 auto 1rem; font-weight: bold; font-size: 1.5rem;">1</div>
          <h3 style="margin-bottom: 1rem; color: var(--gray-800);">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å</h3>
          <p style="color: var(--gray-700);">–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞—Ç–∞–ª–æ–≥, –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –æ–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è. –ú—ã –ø–æ–º–æ–∂–µ–º —Å –≤—ã–±–æ—Ä–æ–º.</p>
        </div>
        <div class="step-card card" style="padding: 2rem; border-radius: var(--radius-lg); background: var(--white); box-shadow: var(--shadow-sm); transition: transform 0.3s ease; text-align: center;">
          <div class="step-icon" style="width: 50px; height: 50px; background: var(--accent-terracotta); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--white); margin: 0 auto 1rem; font-weight: bold; font-size: 1.5rem;">2</div>
          <h3 style="margin-bottom: 1rem; color: var(--gray-800);">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∏ —Ä–∞—Å—á—ë—Ç</h3>
          <p style="color: var(--gray-700);">–ó–≤–æ–Ω–∏—Ç–µ –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É ‚Äî —Ä–∞—Å—Å—á–∏—Ç–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å, —Å—Ä–æ–∫–∏ –∏ –¥–æ—Å—Ç–∞–≤–∫—É –ø–æ–¥ –≤–∞—à —É—á–∞—Å—Ç–æ–∫.</p>
        </div>
        <div class="step-card card" style="padding: 2rem; border-radius: var(--radius-lg); background: var(--white); box-shadow: var(--shadow-sm); transition: transform 0.3s ease; text-align: center;">
          <div class="step-icon" style="width: 50px; height: 50px; background: var(--accent-terracotta); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--white); margin: 0 auto 1rem; font-weight: bold; font-size: 1.5rem;">3</div>
          <h3 style="margin-bottom: 1rem; color: var(--gray-800);">–î–æ–≥–æ–≤–æ—Ä –∏ –æ–ø–ª–∞—Ç–∞</h3>
          <p style="color: var(--gray-700);">–§–∏–∫—Å–∏—Ä—É–µ–º –≤—Å–µ –¥–µ—Ç–∞–ª–∏ –≤ –¥–æ–≥–æ–≤–æ—Ä–µ. –ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ 50%, –æ—Å—Ç–∞—Ç–æ–∫ –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∞–∂–∞.</p>
        </div>
        <div class="step-card card" style="padding: 2rem; border-radius: var(--radius-lg); background: var(--white); box-shadow: var(--shadow-sm); transition: transform 0.3s ease; text-align: center;">
          <div class="step-icon" style="width: 50px; height: 50px; background: var(--accent-terracotta); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--white); margin: 0 auto 1rem; font-weight: bold; font-size: 1.5rem;">4</div>
          <h3 style="margin-bottom: 1rem; color: var(--gray-800);">–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –º–æ–Ω—Ç–∞–∂</h3>
          <p style="color: var(--gray-700);">–ü—Ä–∏–≤–æ–∑–∏–º –∏ —Å–æ–±–∏—Ä–∞–µ–º –∑–∞ 1‚Äì2 –¥–Ω—è. –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π!</p>
        </div>
      </div>
      <style>
        .step-card:hover {
          transform: translateY(-5px);
          box-shadow: var(--shadow-warm);
        }
      </style>
    </div>
  </section>

  <!-- JS: –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∞–∫–∫–æ—Ä–¥–µ–æ–Ω –∏ –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç) -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // FAQ –ê–∫–∫–æ—Ä–¥–µ–æ–Ω —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –≤—ã—Å–æ—Ç–æ–π
      document.querySelectorAll('.faq-question').forEach(button => {
        button.addEventListener('click', function() {
          const answer = this.nextElementSibling;
          const isOpen = answer.classList.contains('active');
          const allAnswers = document.querySelectorAll('.faq-answer');
          const allButtons = document.querySelectorAll('.faq-question');
          const allToggles = document.querySelectorAll('.faq-toggle');

          // –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ (—Å–±—Ä–æ—Å –∏–∫–æ–Ω–æ–∫ –∏ –∫–ª–∞—Å—Å–æ–≤)
          allAnswers.forEach(ans => {
            ans.style.maxHeight = '0';
            ans.classList.remove('active');
          });
          allButtons.forEach(btn => btn.classList.remove('active'));
          allToggles.forEach(tog => tog.textContent = '+');

          if (!isOpen) {
            // –û—Ç–∫—Ä—ã—Ç—å —Ç–µ–∫—É—â–∏–π (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤—ã—Å–æ—Ç–∞)
            answer.classList.add('active');
            this.classList.add('active');
            const scrollHeight = answer.scrollHeight + 'px';
            answer.style.maxHeight = scrollHeight;
            this.querySelector('.faq-toggle').textContent = '‚àí';
          }
        });
      });

      // –ü—Ä–æ—Å—Ç–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ—Ç AOS –∏–ª–∏ –ø–æ–¥–æ–±–Ω–æ–≥–æ)
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
          }
        });
      }, observerOptions);

      document.querySelectorAll('[data-animate]').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
      });

      // –ó–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–∑–∞–≥–ª—É—à–∫–∞, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π —Å AJAX –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
      function loadMoreProducts() {
        alert('–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤... (–†–µ–∞–ª–∏–∑—É–π AJAX –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏)');
      }
    });
  </script>

{% endblock %}
